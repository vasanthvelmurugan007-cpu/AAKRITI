/* BookPage.css - Tactile & Organic Updates */

.book-page,
.book-page.--left,
.book-page.--right {
    background-color: #f8f5e6;
    /* Creamier/Watercolor base */
    /* Watercolor Texture Overlay */
    background-image: url("data:image/svg+xml,%3Csvg width='200' height='200' viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.15'/%3E%3C/svg%3E");

    /* Deckled Edge Effect - simplified for performance but organic looking */
    border: none;
    mask-image: linear-gradient(to bottom, black 98%, transparent 100%);
    /* Fade out bottom */
    /* Real deckled edge simulation requires complex clip-path, sticking to rough border for now or simplified clip */
    /* clip-path: polygon(
        1% 1%, 99% 2%, 98% 99%, 2% 98%, 
        0% 50%, 1% 25%, 0% 10%, 2% 0%
    ); */

    /* Deep 3D Shadow for "Physical Object" feel */
    box-shadow:
        inset 20px 0 50px rgba(0, 0, 0, 0.1),
        /* Spine depth */
        5px 10px 30px rgba(0, 0, 0, 0.25);
    /* Lift off table */

    padding: 60px 50px;
    position: relative;
    height: 100%;
    box-sizing: border-box;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    justify-content: center;
}

/* Pressed Botanical - Top Left Corner */
.book-page::before {
    content: '';
    position: absolute;
    top: -20px;
    left: -20px;
    width: 100px;
    height: 100px;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%235a6b46' stroke-width='1' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M12 2L12 22'/%3E%3Cpath d='M12 8C8 8 4 12 4 16'/%3E%3Cpath d='M12 10C16 10 20 12 20 16'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-size: contain;
    opacity: 0.3;
    transform: rotate(-15deg);
    z-index: 0;
    pointer-events: none;
    mix-blend-mode: multiply;
}

/* Spine Shadow - Central Deep Gradient */
.book-page::after {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 40px;
    background: linear-gradient(to right, rgba(0, 0, 0, 0.3), transparent);
    pointer-events: none;
    z-index: 10;
}

.page-content {
    display: flex;
    flex-direction: column;
    height: 100%;
    max-width: 900px;
    margin: 0 auto;
    width: 100%;
    position: relative;
    z-index: 2;
    /* Above texture */
}

/* Handwritten Note Style */
@import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600&display=swap');

.handwritten-note {
    font-family: 'Dancing Script', cursive;
    color: #8b7355;
    font-size: 1.4rem;
    transform: rotate(-2deg);
    margin-top: -10px;
    margin-bottom: 20px;
    display: block;
    text-align: right;
}

.page-header {
    font-family: var(--font-accent);
    color: var(--color-earth-main);
    border-bottom: 3px solid var(--color-gold);
    /* Thicker divider */
    padding-bottom: 15px;
    margin-bottom: 40px;
    text-align: center;
    text-transform: uppercase;
    letter-spacing: 0.2em;
    font-size: 2.2rem;
    font-weight: 700;
}

.page-body {
    flex-grow: 1;
    overflow-y: auto;
    font-family: var(--font-body);
    font-size: 1.1rem;
    /* Highly legible */
    line-height: 1.6;
    color: var(--color-text-body);
    padding-right: 15px;
    /* Space for scrollbar */
}

/* Hide Scrollbar for cleaner look (works in WebKit) */
.page-body::-webkit-scrollbar {
    width: 6px;
}

.page-body::-webkit-scrollbar-track {
    background: transparent;
}

.page-body::-webkit-scrollbar-thumb {
    background-color: rgba(0, 0, 0, 0.1);
    border-radius: 3px;
}

/* Photo Mounting: Polaroid + Corners */
.page-body img {
    background-color: #fff;
    padding: 12px 12px 40px 12px;
    /* Bottom heavy for polaroid */
    box-shadow: 2px 4px 15px rgba(0, 0, 0, 0.2);
    transform: rotate(1deg);
    /* Slight imperfection */
    transition: transform 0.3s ease;
    width: 90%;
    /* Slight reduce to fit padding */
    margin: 30px auto;
    display: block;
    position: relative;
    max-height: 50vh;
    object-fit: cover;
    border-radius: 2px;
}

.page-body img:hover {
    transform: scale(1.02) rotate(0deg);
    box-shadow: 5px 10px 25px rgba(0, 0, 0, 0.3);
}

/* Washi Tape Effect (simulated with CSS above img container would be ideal, 
   but since we target img directly, we can't use pseudo-elements on img. 
   We'll use a wrapper in the component or simple shadow tricks).
   For now, sticking to the Polaroid look which is achieved via padding/bg on img. */

.page-body h1,
.page-body h2,
.page-body h3 {
    font-family: var(--font-accent);
    color: #3e362e;
    /* Darker ink */
    position: relative;
    display: inline-block;
}

/* Gold Scribble Underline for Headers */
.page-body h2::after {
    content: '';
    display: block;
    width: 100%;
    height: 10px;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 10' preserveAspectRatio='none'%3E%3Cpath d='M0 5 Q 50 10 100 5' stroke='%23d4af37' stroke-width='2' fill='none' /%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-size: 100% 100%;
    margin-top: -5px;
    opacity: 0.8;
}

/* Drop Cap Class */
.drop-cap:first-letter {
    float: left;
    font-family: var(--font-accent);
    font-size: 3.5rem;
    line-height: 0.8;
    margin-right: 12px;
    margin-top: 4px;
    color: #a0522d;
    /* Sepia ink */
}

.page-footer {
    margin-top: 15px;
    display: flex;
    justify-content: center;
    border-top: 1px solid rgba(0, 0, 0, 0.05);
    padding-top: 8px;
}

.page-number {
    font-family: var(--font-accent);
    color: var(--color-gold-dim);
    font-weight: bold;
}